<div class='container'>
  <div class='row mb-5 border-bottom pb-5'>
    <div class='col-sm-7'>
      <h2 class='mb-3 first-letter' i18n='Search results label@@searchResults'>Search results</h2>

      <div class='row'>
        <ng-container *ngFor='let result of searchObjects; let i = index'>
          <div class='col-md-3 pr-0' *ngIf='result?.items'>
            <p class='mb-1 text-muted'>{{ result?.key | titlecase }}:</p>
          </div>

          <div class='col-md-9 pl-0 info' *ngIf='result?.items'>
            <p class='mb-1'>
              <span *ngFor='let item of result?.items' class='badge badge-pill badge-secondary first-letter chip'
                    [routerLink]="['/' + result?.key, item?.id]">
                <i class='fas {{ result?.icon }}'></i>
                {{ item?.label }}
              </span>
            </p>
          </div>
        </ng-container>

        <div class='col-md-3 pr-0' *ngIf='searchTerms?.length'>
          <p class='mb-1 text-muted colon-suffix' i18n='Terms label@@terms'>Terms</p>
        </div>

        <div class='col-md-9 pl-0 info' *ngIf='searchTerms?.length'>
          <p class='mb-1 ml-2 mr-2'>
            <span *ngFor='let term of searchTerms' class='first-letter'> "{{ term }}" </span>
          </p>
        </div>

        <div class='col-md-3 pr-0'>
          <p class='mb-1 text-muted colon-suffix' i18n='Results label@@results'>All results</p>
        </div>

        <div class='col-md-9 pl-0 info'>
          <p class='mb-1 ml-2'>
            <span class='first-letter'> {{ countResults }} </span>
          </p>
        </div>
      </div>
    </div>
  </div>

  <ul class='nav nav-tabs' *ngIf='entityTabs.length != 0'>
    <ng-container *ngFor='let tab of entityTabs'>
      <li class='nav-item' *ngIf='tab.loaded'>
        <a class='nav-link' [ngClass]='{ active: tab.active }' data-toggle='tab' href='#{{ tab.type }}_tab'
           (click)='tabClicked(tab)'>
          <i class='mr-1 fa fa-{{ tab.icon }}'></i>
          <ng-container i18n='Entity Type Labels@@entity_labels' *ngIf='tab.type; let type'>
            {type, select, all {All} artwork {Artwork} motif {Motif} artist {Artist} location {Location} genre {Genre} movement {Movement} material
              {Material} main_motif {Main Motif} }
          </ng-container>
        </a>
      </li>
    </ng-container>
  </ul>

  <div class='tab-content'>
    <ng-container *ngFor='let tab of entityTabs'>
      <div class='tab-pane fade'
           [ngClass]="{ 'show active': tab.active }" id='{{ tab.type }}_tab'>
        <app-fetching-list *ngIf='tab.fetchOptions.queryCount && tab.initialized' id='{{ tab.type }}_list' [query]='tab.query'
                           [options]='tab.fetchOptions' [enableHover]='true'>
          <ng-template let-entity="entity" let-type="entityType">
            <div class="typebadge"><i class="fas" [ngClass]="entity.icon"></i></div>
          </ng-template>
        </app-fetching-list>
      </div>
  </ng-container>
  </div>

</div>

